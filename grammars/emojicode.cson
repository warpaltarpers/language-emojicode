fileTypes: [
  "emojic"
]
firstLineMatch: "-\\*- Emojicode -\\*-"
name: "Emojicode"
patterns: [
  {
    include: "#comments"
  }
  {
    include: "#classes"
  }
  {
    captures:
      "1":
        name: "keyword.control.import.emojicode"
      "2":
        name: "variable.other.package-name.emojicode"
      "3":
        name: "storage.type.module.emojicode"
    match: "^\\s*(ğŸ“¦)\\s*([^\\s]+)\\s*([^\\s])"
  }
  {
    begin: "^\\s*(ğŸ)\\s*(?:â¡ï¸\\s*([^\\s]))?\\s*ğŸ‡"
    beginCaptures:
      "1":
        name: "entity.name.function.main.emojicode"
      "2":
        name: "storage.type.method.emojicode"
    end: "ğŸ‰"
    name: "meta.function.main.emojicode"
    patterns: [
      {
        include: "#comments"
      }
      {
        include: "#literals"
      }
      {
        include: "#variables"
      }
      {
        include: "#builtin-types"
      }
      {
        include: "#control-flow"
      }
    ]
  }
  {
    match: "ğŸŠ|ğŸ‹|ğŸ“|ğŸ”|ğŸ”‚|ğŸ"
    name: "keyword.control.emojicode"
  }
]
repository:
  "builtin-types":
    patterns: [
      {
        match: "ğŸ¬?([ğŸ¨ğŸ¯]\\s*ğŸš)?\\s*(ğŸš‚|ğŸš€|ğŸ‘Œ|ğŸ”£|ğŸ”¡|â©|âœ¨)"
        name: "support.type.s.emojicode"
      }
    ]
  classes:
    patterns: [
      {
        begin: "(ğŸ‡\\s*([^ğŸ–\\s])\\s*([^ğŸ–\\s]?))[^ğŸ–\\s]*ğŸ‡"
        beginCaptures:
          "1":
            name: ""
          "2":
            name: "meta.toc-list.class.emojicode"
          "3":
            name: "entity.name.type.class.emojicode"
          "4":
            name: "storage.type.class.emojicode"
        end: "ğŸ‰"
        name: "meta.class.emojicode"
        patterns: [
          {
            include: "#declarative-statements"
          }
          {
            include: "#method-definitions"
          }
          {
            include: "#initializer-definitions"
          }
        ]
      }
    ]
  comments:
    patterns: [
      {
        captures:
          "1":
            name: "meta.toc-list.separator.emojicode"
          "2":
            name: "meta.toc-list.emojicode"
        comment: "Separator comment; appears as separator in symbol list, with optional text following"
        match: "^\\s*(ğŸ‘´{3,})\\s*([^\\s].*)?$"
        name: "meta.separator.emojicode"
        while: "(?=im)possible"
      }
      {
        captures:
          "1":
            name: "meta.toc-list.emojicode"
        comment: "Section comment; text appears in symbol list"
        match: "^\\s*ğŸ‘´{2,}\\s+([^\\s].*)$"
        name: "comment.line.older-man.emojicode"
      }
      {
        match: "ğŸ‘´.*$"
        name: "comment.line.older-man.emojicode"
      }
      {
        begin: "ğŸ‘µ"
        end: "ğŸ‘µ"
        name: "comment.block.older-woman.emojicode"
      }
      {
        begin: "ğŸŒ®"
        comment: "I would import Markdown here, but it gets formatted funny if there's any indentation."
        end: "ğŸŒ®"
        name: "comment.block.documentation.taco.emojicode"
      }
    ]
  "control-flow":
    patterns: [
      {
        begin: "(ğŸŠ)\\s*([^\\s].*)\\s*ğŸ‡"
        beginCaptures:
          "1":
            name: "keyword.control.if.emojicode"
          "2":
            patterns: [
              {
                include: "#functional-statements"
              }
            ]
        end: "ğŸ‰"
        name: "meta.block.control.if.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
      {
        begin: "(ğŸ‹)\\s*([^\\s].*)\\s*ğŸ‡"
        beginCaptures:
          "1":
            name: "keyword.control.elseif.emojicode"
          "2":
            patterns: [
              {
                include: "#functional-statements"
              }
            ]
        end: "ğŸ‰"
        name: "meta.block.control.elseif.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
      {
        begin: "(ğŸ“)\\s*ğŸ‡"
        beginCaptures:
          "1":
            name: "keyword.control.else.emojicode"
        end: "ğŸ‰"
        name: "meta.block.control.else.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
      {
        begin: "(ğŸ”)\\s*([^\\s].*)\\s*ğŸ‡"
        beginCaptures:
          "1":
            name: "keyword.control.while.emojicode"
          "2":
            patterns: [
              {
                include: "#functional-statements"
              }
            ]
        end: "ğŸ‰"
        name: "meta.block.control.while.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
      {
        begin: "(ğŸ”‚)\\s*(\\b[^\\s]+\\b)\\s*(?:(\\b[^\\s]+\\b)|([^\\s].*))\\s*ğŸ‡"
        beginCaptures:
          "1":
            name: "keyword.control.for.emojicode"
          "2":
            name: "variable.other.loop.emojicode"
          "3":
            name: "variable.other.loop.emojicode"
          "4":
            patterns: [
              {
                include: "#functional-statements"
              }
            ]
        end: "ğŸ‰"
        name: "meta.block.control.for.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
      {
        captures:
          "1":
            name: "keyword.control.return.emojicode"
          "2":
            name: "variable.other.emojicode"
          "3":
            patterns: [
              {
                include: "#functional-statements"
              }
            ]
        match: "(ğŸ)\\s*(?:(\\b[^\\s]+\\b)|([^\\s].*))"
      }
    ]
  "declarative-statements":
    patterns: [
      {
        include: "#comments"
      }
      {
        include: "#variable-declarations"
      }
      {
        include: "#builtin-types"
      }
    ]
  "functional-statements":
    patterns: [
      {
        include: "#comments"
      }
      {
        include: "#literals"
      }
      {
        include: "#variables"
      }
      {
        include: "#builtin-types"
      }
      {
        include: "#operators"
      }
      {
        include: "#control-flow"
      }
      {
        include: "#method-calls"
      }
    ]
  "initializer-definitions":
    patterns: [
      {
        begin: "[\\sğŸ”“ğŸ”ğŸ”’âœ’ï¸ğŸ”ğŸ”‘ğŸ¬]*ğŸˆ\\s*([^\\s]).*ğŸ‡"
        beginCaptures:
          "1":
            name: "entity.name.function.initializer.emojicode"
        end: "ğŸ‰"
        name: "meta.function.initializer.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
    ]
  literals:
    patterns: [
      {
        match: "\\b\\d[\\d_]*?(\\.\\d+)?\\b"
        name: "constant.numeric.decimal.emojicode"
      }
      {
        match: "\\b0x\\h+\\b"
        name: "constant.numeric.hexadecimal.emojicode"
      }
      {
        match: "ğŸ”Ÿ."
        name: "constant.character.emojicode"
      }
      {
        match: "ğŸ‘"
        name: "constant.language.true.emojicode"
      }
      {
        match: "ğŸ‘"
        name: "constant.language.false.emojicode"
      }
      {
        match: "âš¡ï¸"
        name: "constant.language.nothingness.emojicode"
      }
      {
        begin: "ğŸ”¤"
        end: "((?<!âŒ)|(?<=âŒâŒ))ğŸ”¤"
        name: "string.other.emojicode"
        patterns: [
          {
            match: "âŒ[âŒğŸ”¤ntre]"
            name: "constant.character.escape.emojicode"
          }
          {
            match: "âŒ."
            name: "invalid.illegal.unknown-escape.emojicode"
          }
        ]
      }
    ]
  "method-calls":
    patterns: [
      {
        captures:
          "1":
            name: "support.function.method.emojicode"
          "2":
            name: "variable.other.emojicode"
          "3":
            patterns: [
              {
                include: "#functional-statements"
              }
            ]
        match: "([^\\s\\w])\\s*(?:(\\b[^\\s]+\\b)|([^\\s].*))"
        name: "meta.function-call.method.emojicode"
      }
    ]
  "method-definitions":
    patterns: [
      {
        begin: "^[\\sğŸ‡ğŸ”“ğŸ”ğŸ”’âœ’ï¸ğŸ”]*ğŸ–\\s*([^\\s])(.*?)(?:â¡ï¸\\s*([^\\s]))?\\s*ğŸ‡"
        beginCaptures:
          "1":
            name: "entity.name.function.method.emojicode"
          "2":
            patterns: [
              {
                include: "#builtin-types"
              }
            ]
          "3":
            patterns: [
              {
                include: "#builtin-types"
              }
            ]
        end: "ğŸ‰"
        name: "meta.function.method.emojicode"
        patterns: [
          {
            include: "#functional-statements"
          }
        ]
      }
      {
        captures:
          "1":
            name: "entity.name.function.method.native.emojicode"
          "3":
            name: "storage.type.emojicode"
        match: "^[\\sğŸ‡ğŸ”“ğŸ”ğŸ”’âœ’ï¸ğŸ”]*ğŸ–\\s*([^\\s]).*?(?:â¡ï¸\\s*[^\\s])?\\s*ğŸ“»"
        name: "meta.function.method.native.emojicode"
      }
    ]
  operators:
    patterns: [
      {
        match: "ğŸ˜œ|â—€ï¸|â–¶ï¸|â¬…ï¸|â¡ï¸|â•|â–|âœ–ï¸|â—|ğŸš®|ğŸŠ|ğŸ‰|â|â­•ï¸|ğŸ’¢|âŒ|ğŸš«|ğŸ‘ˆ|ğŸ‘‰"
        name: "keyword.operator.emojicode"
      }
    ]
  "variable-declarations":
    patterns: [
      {
        captures:
          "1":
            name: "keyword.other.variable-declare.emojicode"
          "2":
            name: "meta.toc-list.variable.emojicode"
          "3":
            name: "variable.other.class.emojicode"
        match: "(ğŸ°)\\s*(([^\\s]+)\\s*(ğŸ¬\\s*.|[ğŸ¨ğŸ¯]\\s*ğŸš\\s*.|.))"
      }
    ]
  variables:
    patterns: [
      {
        captures:
          "1":
            name: "keyword.other.variable-declare.emojicode"
          "2":
            name: "variable.other.emojicode"
        match: "(ğŸ°)\\s*([^\\s]+)\\s*?(?=[^\\s])"
      }
      {
        captures:
          "1":
            name: "keyword.other.variable-assign.emojicode"
          "2":
            name: "variable.other.emojicode"
        match: "(ğŸ®)\\s*((\\w)+)\\s*?(?=[^\\s])"
      }
      {
        captures:
          "1":
            name: "keyword.other.variable-freeze.emojicode"
          "2":
            name: "variable.other.emojicode"
        match: "(ğŸ¦)\\s*((\\w)+)\\s*?(?=[^\\s])"
      }
    ]
scopeName: "source.emojicode"
